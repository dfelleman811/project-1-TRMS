<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRMS</title>
</head>
<body>
    <h1 id='heading'>Log In Page</h1>

    <div id='logIn'>
    <label for='emailInput'>Email: </label>
    <input id='emailInput' type='email' placeholder='email@example.com'>
    <br/>
    <label for='passwordInput'>Password: </label>
    <input id='passwordInput' type='text' placeholder='password'>
    <br/>
    <button id='loginButton' onclick='onLoginClick()'>Log In</button>
    </div>
</body>
<script>

    // Define function for log in button click
    function onLoginClick() {

        // collect input from fields

        let emailInput = document.getElementById('emailInput').value;
        let passwordInput = document.getElementById('passwordInput').value;

        console.log(emailInput);
        console.log(passwordInput);

        // Create json object to send in request body

        let employee = {
            email: emailInput,
            password: passwordInput
        };

        // Get employee by email and make sure password matches
        // Create request object
        let xhttp = new XMLHttpRequest();

        // we'll use a put request to send sensitive information in request body not url
        xhttp.open("POST", "http://localhost:8080/Project-1-TRMS/getEmployee.do", true);

        // Set request header
        xhttp.setRequestHeader('Content-Type', 'application/json');

        xhttp.send(JSON.stringify(employee));

        xhttp.onreadystatechange = function() {

            if (this.readyState == 4 && this.status == 200) {
                console.log("is this when I'd send them to another page?");
            }
        }

    }
</script>

</html>